<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maleeran 的LeetCode刷题记录</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            color: #666;
            margin-top: 5px;
        }

        .controls {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .search-box {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 16px;
            margin-bottom: 15px;
        }

        .filter-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            background: #f0f0f0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-btn:hover {
            background: #667eea;
            color: white;
        }

        .filter-btn.active {
            background: #667eea;
            color: white;
        }

        .problems-container {
            display: grid;
            gap: 20px;
        }

        .problem-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .problem-card:hover {
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .problem-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .problem-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
        }

        .problem-difficulty {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .difficulty-easy {
            background: #d4edda;
            color: #155724;
        }

        .difficulty-medium {
            background: #fff3cd;
            color: #856404;
        }

        .difficulty-hard {
            background: #f8d7da;
            color: #721c24;
        }

        .problem-tags {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
        }

        .tag {
            padding: 4px 10px;
            background: #f0f0f0;
            border-radius: 15px;
            font-size: 0.85em;
            color: #666;
        }

        .problem-solution {
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            font-family: 'Consolas', 'Monaco', monospace;
            display: none;
        }

        .problem-solution.show {
            display: block;
        }

        .add-problem-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
        }

        .add-problem-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 16px;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 150px;
            font-family: 'Consolas', 'Monaco', monospace;
        }

        .form-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a67d8;
        }

        .btn-secondary {
            background: #e0e0e0;
            color: #333;
        }

        .btn-secondary:hover {
            background: #d0d0d0;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            h1 {
                font-size: 2em;
            }

            .stats-container {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Maleeran 的 LeetCode 刷题记录</h1>
            <p class="subtitle">记录每一次进步，见证成长之路</p>
        </div>
    </header>

    <div class="container">
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-number" id="totalProblems">0</div>
                <div class="stat-label">总题数</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="easyCount">0</div>
                <div class="stat-label">简单</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="mediumCount">0</div>
                <div class="stat-label">中等</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="hardCount">0</div>
                <div class="stat-label">困难</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>

        <div class="controls">
            <input type="text" class="search-box" id="searchBox" placeholder="搜索题目名称或编号...">
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">全部</button>
                <button class="filter-btn" data-filter="easy">简单</button>
                <button class="filter-btn" data-filter="medium">中等</button>
                <button class="filter-btn" data-filter="hard">困难</button>
            </div>
        </div>

        <div class="problems-container" id="problemsContainer">
            <!-- 题目卡片将动态插入这里 -->
        </div>
    </div>

    <button class="add-problem-btn" id="addProblemBtn">+</button>

    <div class="modal" id="addProblemModal">
        <div class="modal-content">
            <h2>添加新题目</h2>
            <form id="addProblemForm">
                <div class="form-group">
                    <label for="problemNumber">题目编号</label>
                    <input type="number" id="problemNumber" required>
                </div>
                <div class="form-group">
                    <label for="problemTitle">题目名称</label>
                    <input type="text" id="problemTitle" required>
                </div>
                <div class="form-group">
                    <label for="problemDifficulty">难度</label>
                    <select id="problemDifficulty" required>
                        <option value="easy">简单</option>
                        <option value="medium">中等</option>
                        <option value="hard">困难</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="problemTags">标签（用逗号分隔）</label>
                    <input type="text" id="problemTags" placeholder="例如：数组, 哈希表, 动态规划">
                </div>
                <div class="form-group">
                    <label for="problemSolution">题解代码</label>
                    <textarea id="problemSolution" placeholder="在这里粘贴你的题解代码..."></textarea>
                </div>
                <div class="form-group">
                    <label for="problemNotes">笔记</label>
                    <textarea id="problemNotes" placeholder="记录解题思路、关键点等..."></textarea>
                </div>
                <div class="form-buttons">
                    <button type="button" class="btn btn-secondary" id="cancelBtn">取消</button>
                    <button type="submit" class="btn btn-primary">添加</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // 数据存储
        let problems = JSON.parse(localStorage.getItem('leetcodeProblems')) || [];
        let currentFilter = 'all';

        // DOM 元素
        const problemsContainer = document.getElementById('problemsContainer');
        const addProblemBtn = document.getElementById('addProblemBtn');
        const addProblemModal = document.getElementById('addProblemModal');
        const addProblemForm = document.getElementById('addProblemForm');
        const cancelBtn = document.getElementById('cancelBtn');
        const searchBox = document.getElementById('searchBox');
        const filterButtons = document.querySelectorAll('.filter-btn');

        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            renderProblems();
            updateStats();
        });

        // 添加题目按钮点击事件
        addProblemBtn.addEventListener('click', function() {
            addProblemModal.style.display = 'block';
        });

        // 取消按钮点击事件
        cancelBtn.addEventListener('click', function() {
            addProblemModal.style.display = 'none';
            addProblemForm.reset();
        });

        // 点击模态框外部关闭
        addProblemModal.addEventListener('click', function(e) {
            if (e.target === addProblemModal) {
                addProblemModal.style.display = 'none';
                addProblemForm.reset();
            }
        });

        // 表单提交事件
        addProblemForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const problem = {
                id: Date.now(),
                number: document.getElementById('problemNumber').value,
                title: document.getElementById('problemTitle').value,
                difficulty: document.getElementById('problemDifficulty').value,
                tags: document.getElementById('problemTags').value.split(',').map(tag => tag.trim()).filter(tag => tag),
                solution: document.getElementById('problemSolution').value,
                notes: document.getElementById('problemNotes').value,
                date: new Date().toLocaleDateString('zh-CN')
            };

            problems.push(problem);
            localStorage.setItem('leetcodeProblems', JSON.stringify(problems));
            
            addProblemModal.style.display = 'none';
            addProblemForm.reset();
            renderProblems();
            updateStats();
        });

        // 筛选按钮点击事件
        filterButtons.forEach(button => {
            button.addEventListener('click', function() {
                filterButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                currentFilter = this.dataset.filter;
                renderProblems();
            });
        });

        // 搜索功能
        searchBox.addEventListener('input', function() {
            renderProblems();
        });

        // 渲染题目列表
        function renderProblems() {
            const searchTerm = searchBox.value.toLowerCase();
            let filteredProblems = problems;

            // 应用筛选
            if (currentFilter !== 'all') {
                filteredProblems = filteredProblems.filter(problem => problem.difficulty === currentFilter);
            }

            // 应用搜索
            if (searchTerm) {
                filteredProblems = filteredProblems.filter(problem => 
                    problem.title.toLowerCase().includes(searchTerm) ||
                    problem.number.toString().includes(searchTerm) ||
                    problem.tags.some(tag => tag.toLowerCase().includes(searchTerm))
                );
            }

            // 按题目编号排序
            filteredProblems.sort((a, b) => b.number - a.number);

            problemsContainer.innerHTML = '';

            if (filteredProblems.length === 0) {
                problemsContainer.innerHTML = '<p style="text-align: center; color: #666; padding: 40px;">暂无题目记录</p>';
                return;
            }

            filteredProblems.forEach(problem => {
                const problemCard = createProblemCard(problem);
                problemsContainer.appendChild(problemCard);
            });
        }

        // 创建题目卡片
        function createProblemCard(problem) {
            const card = document.createElement('div');
            card.className = 'problem-card';
            
            const difficultyClass = `difficulty-${problem.difficulty}`;
            const difficultyText = problem.difficulty === 'easy' ? '简单' : 
                                 problem.difficulty === 'medium' ? '中等' : '困难';

            card.innerHTML = `
                <div class="problem-header">
                    <div>
                        <div class="problem-title">#${problem.number} ${problem.title}</div>
                        <div style="color: #999; font-size: 0.9em; margin-top: 5px;">${problem.date}</div>
                    </div>
                    <div class="problem-difficulty ${difficultyClass}">${difficultyText}</div>
                </div>
                <div class="problem-tags">
                    ${problem.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                </div>
                ${problem.notes ? `<p style="color: #666; margin-bottom: 10px;">${problem.notes}</p>` : ''}
                <button class="btn btn-primary" onclick="toggleSolution(${problem.id})">查看题解</button>
                <div class="problem-solution" id="solution-${problem.id}">
                    <pre><code>${escapeHtml(problem.solution)}</code></pre>
                </div>
            `;

            return card;
        }

        // 切换题解显示
        function toggleSolution(id) {
            const solution = document.getElementById(`solution-${id}`);
            solution.classList.toggle('show');
        }

        // 更新统计数据
        function updateStats() {
            const total = problems.length;
            const easy = problems.filter(p => p.difficulty === 'easy').length;
            const medium = problems.filter(p => p.difficulty === 'medium').length;
            const hard = problems.filter(p => p.difficulty === 'hard').length;

            document.getElementById('totalProblems').textContent = total;
            document.getElementById('easyCount').textContent = easy;
            document.getElementById('mediumCount').textContent = medium;
            document.getElementById('hardCount').textContent = hard;

            // 更新进度条
            const progress = total > 0 ? (easy + medium * 2 + hard * 3) / (total * 3) * 100 : 0;
            document.getElementById('progressFill').style.width = `${progress}%`;
        }

        // HTML转义函数
        function escapeHtml(text) {
            const map = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#039;'
            };
            return text.replace(/[&<>"']/g, m => map[m]);
        }

        // 添加一些示例数据（首次访问时）
        if (problems.length === 0) {
            const sampleProblems = [
                {
                    id: 1,
                    number: 1,
                    title: "两数之和",
                    difficulty: "easy",
                    tags: ["数组", "哈希表"],
                    solution: `class Solution {
    public int[] twoSum(int[] nums, int target) {
        Map<Integer, Integer> map = new HashMap<>();
        for (int i = 0; i < nums.length; i++) {
            int complement = target - nums[i];
            if (map.containsKey(complement)) {
                return new int[] { map.get(complement), i };
            }
            map.put(nums[i], i);
        }
        return null;
    }
}`,
                    notes: "使用哈希表存储已经遍历过的数字，时间复杂度 O(n)",
                    date: new Date().toLocaleDateString('zh-CN')
                },
                {
                    id: 2,
                    number: 9,
                    title: "回文数",
                    difficulty: "easy",
                    tags: ["数学"],
                    solution: `class Solution {
    public boolean isPalindrome(int x) {
        // 特殊情况处理
        if (x < 0 || (x % 10 == 0 && x != 0)) {
            return false;
        }
        
        int revertedNumber = 0;
        while (x > revertedNumber) {
            revertedNumber = revertedNumber * 10 + x % 10;
            x /= 10;
        }
        
        // 当数字长度为奇数时，我们可以通过 revertedNumber/10 去除处于中间的数字。
        // 例如，当输入为 12321 时，在 while 循环的末尾我们会得到 x = 12，revertedNumber = 123，
        // 由于中间的数字不影响回文（它总是与自己相等），所以我们可以简单地将其去除。
        return x == revertedNumber || x == revertedNumber / 10;
    }
}`,
                    notes: "通过数学方法反转一半的数字，避免将整数转为字符串，空间复杂度 O(1)",
                    date: new Date().toLocaleDateString('zh-CN')
                }
            ];
            
            problems = sampleProblems;
            localStorage.setItem('leetcodeProblems', JSON.stringify(problems));
            renderProblems();
            updateStats();
        }
    </script>
</body>
</html>